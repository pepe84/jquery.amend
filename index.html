<!DOCTYPE html>
<html>
  <head>
    <title>jquery.amend demo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="/src/jquery.amend.css">
    <style>
        body {
            width: 900px;
            margin: 20px auto;
        }
        body, input, textarea {
            font-family: Arial;
            font-size: 1.0em;
        }
        .law {
            background: #f0f0f0;
            padding: 10px;
            overflow: hidden;
            zoom: 1;
        }
    </style>
  </head>
  <body>
    <div class="law">
      <h1 data-reference="t0">Title I</h1>
      <p data-reference="0.1" class="text">Praesent aliquet commodo mauris non porta. In sit amet tincidunt massa. Maecenas id arcu eget leo consequat molestie. Mauris et sapien fringilla, pretium justo non, aliquet nunc. Suspendisse feugiat congue ipsum, nec elementum massa condimentum eu. In hendrerit molestie facilisis. Morbi pretium ullamcorper tortor sit amet cursus.</p>
      <h1 data-reference="t1">Title II</h1>
      <h2 data-reference="t1.s1">Section 1</h2>
      <h3 data-reference="1">Article 1</h2>
      <p data-reference="1.1" class="text">Donec sem massa, consectetur sit amet tempor sed, hendrerit eget tortor. Mauris dolor neque, suscipit cursus tristique ac, feugiat id urna. Nullam pharetra lorem sit amet volutpat aliquet. Cras ac ultricies ipsum. Donec id odio nec justo dapibus pulvinar. Cras nulla tellus, vulputate sed lacus vel, cursus facilisis leo.</p>
      <p data-reference="1.2" class="text">Donec sem massa, consectetur sit amet tempor sed, hendrerit eget tortor. Mauris dolor neque, suscipit cursus tristique ac, feugiat id urna. Nullam pharetra lorem sit amet volutpat aliquet. Cras ac ultricies ipsum. Donec id odio nec justo dapibus pulvinar. Cras nulla tellus, vulputate sed lacus vel, cursus facilisis leo.</p>
      <h3 data-reference="2">Article 2</h2>
      <p data-reference="2.1" class="text">Nulla aliquet magna quis pharetra placerat. Pellentesque malesuada elit vitae felis consectetur accumsan. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse potenti. In sed posuere sem, sit amet iaculis ipsum.</p>
      <h2 data-reference="t1.s2">Section 2</h2>
      <h3 data-reference="3">Article 3</h2>
      <p data-reference="3.1" class="text">In hac habitasse platea dictumst. Mauris felis lacus, adipiscing et quam in, feugiat tincidunt nulla. Nam vel libero nibh. Suspendisse sollicitudin urna non convallis aliquet.</p>
      <h1 data-reference="t3">Title III</h1>
      <h3 data-reference="4">Article 4</h3>
      <p data-reference="4.1" class="text">Nulla aliquet magna quis pharetra placerat. Pellentesque malesuada elit vitae felis consectetur accumsan. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse potenti. In sed posuere sem, sit amet iaculis ipsum.</p>
      <p data-reference="4.2" class="text">Nulla aliquet magna quis pharetra placerat. Pellentesque malesuada elit vitae felis consectetur accumsan. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse potenti. In sed posuere sem, sit amet iaculis ipsum.</p>
    </div>
    <script src="http://code.jquery.com/jquery-git2.js"></script>
    <script src="https://neil.fraser.name/software/diff_match_patch/svn/trunk/javascript/diff_match_patch.js"></script>
    <script src="/src/jquery.amend.js"></script>
    <script type="text/javascript">
      $('.law').amend({
        "create": function(data, callback) {
          alert('Success creating amendment at ' + data['reference']);
          callback();
        },
        "delete": function(id, callback) {
          alert('Success deleting amendment ' + id);
          callback();
        }
      }, [
        {
          "id":"1", 
          "reference": "1.1",
          "amendment": "Donec sem massa, consectetur sit amet tempor sed, hendrerit eget tortor. Mauris dolor neque, suscipit cursus tristique ac, feugiat id urna. Nullam pharetra lorem sit amet volutpat aliquet. Donec id odio nec justo dapibus pulvinar. Cras nulla tellus et nutella, vulputate sed lacus vel, cursus facilisis leo.",
          "reason": "This is real. Or not?",
          "author": "pepe",
          "status": "pending"
        },
        {
          "id":"2", 
          "reference": "1.2",
          "amendment": "Donec sem massa, consectetur sit amet tempor sed, hendrerit eget tortor. Mauris dolor neque, cursus tristique ac ipsum, feugiat id urna. Nullam pharetra lorem sit amet volutpat aliquet. Cras ac ultricies. Donec id odio nec justo dapibus pulvinar. Cras nulla tellus, vulputate sed lacus vel, cursus facilisis leo.",
          "reason": "I have a feeling...",
          "author": "laura",
          "status": "approved"
        },        {
          "id":"3", 
          "reference": "3.1",
          "amendment": "In hac habitasse platea dictumst. Oh! Mauris felis lacus, adipiscing et quam in, feugiat tincidunt nulla. Nam testing amendment. Suspendisse sollicitudin urna non convallis aliquet. ",
          "reason": "Not in my name.",
          "author": "mike",
          "status": "rejected"
        }
      ]);
    </script>
  </body>
</html>
